(this.webpackJsonpthaibudget65=this.webpackJsonpthaibudget65||[]).push([[0],{139:function(t,e,n){},142:function(t,e,n){},151:function(t,e,n){"use strict";n.r(e);var a,l=n(0),i=n.n(l),o=n(44),r=n.n(o),c=(n(139),n(16)),s=n(30),d=n(3),u=n(5),h=n(4),x=n(6),v=n(17),p=(n.p,n(142),n(49)),g=n(45);var b=h.a.div(a||(a=Object(d.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n"]))),j=n(1);var f,m,O,y,w,T,M,A=function(t){let{data:e=[],isLoading:n=!0,padding:a=16,gutter:i=4,filters:o=["all"],setFilters:r=()=>{},hierarchyBy:c=[],setCurrentSum:s=t=>{},fullValue:d=-1,index:h=0,isMultipleMaxSum:x=!1,sumWindows:f=[]}=t;const{observe:m,unobserve:O,width:y,height:w,entry:T}=Object(g.a)({onResize:t=>{let{observe:e,unobserve:n,w:a,h:l,entr:i}=t;n(),e()}}),M=Object(l.useRef)(null),[A,S]=Object(l.useState)(-1),[R,k]=Object(l.useState)("treemap"),N=Object(l.useMemo)(()=>u.d().domain([-.5,0,.5]).range(["#cf0000ff","#333333","#00ac00ff"]).clamp(!0),[]),E=Object(l.useCallback)(t=>{const e=null===t||void 0===t?void 0:t.AMOUNT_LASTYEAR;return null==e||0===e?"#00ff00ff":null!=(null===t||void 0===t?void 0:t.GROWTH)?N(t.GROWTH):"#666666"},[N]),U=Object(l.useMemo)(()=>{console.log("filters",o);let t=Object(p.a)();for(const e in o)t=t.key(t=>t[c[e]]);let n={key:"root",values:[{key:"all",values:t.rollup(t=>({value:u.f(t,t=>t.AMOUNT),AMOUNT_LASTYEAR:u.f(t,t=>t.AMOUNT_LASTYEAR),GROWTH:u.f(t,t=>t.AMOUNT_LASTYEAR)>0?u.f(t,t=>t.AMOUNT)/u.f(t,t=>t.AMOUNT_LASTYEAR)-1:null})).entries(e)}]};for(const e in o){var a,l,i;n=null===(a=n)||void 0===a||null===(l=a.values)||void 0===l||null===(i=l.filter)||void 0===i?void 0:i.call(l,t=>t.key===o[e])[0]}return console.log("indata",n),n},[e,o,c]),[L,_]=Object(l.useState)(null);return Object(l.useEffect)(()=>{const t=U.values.reduce((t,e)=>{var n;return t+(void 0!==(null===(n=e.value)||void 0===n?void 0:n.value)?e.value.value:e.value||0)},0),e=U.values.reduce((t,e)=>{var n;return t+((null===(n=e.value)||void 0===n?void 0:n.AMOUNT_LASTYEAR)||0)},0),n=e>0?t/e-1:null;console.log("sum",t,"lastYear",e,"growth",n),A!==t&&s(t),S(t),_(n)},[U,s,A]),Object(l.useEffect)(()=>{if(!M.current)return;console.log("fullVal",d),console.log("nested",U);const t=M.current.clientHeight;console.log(t);const e=u.b(U,t=>null===t||void 0===t?void 0:t.values).sum(t=>{var e;return void 0!==(null===t||void 0===t||null===(e=t.value)||void 0===e?void 0:e.value)?t.value.value:(null===t||void 0===t?void 0:t.value)||0}).sort((t,e)=>{var n,a;const l=void 0!==(null===t||void 0===t||null===(n=t.value)||void 0===n?void 0:n.value)?t.value.value:(null===t||void 0===t?void 0:t.value)||0;return(void 0!==(null===e||void 0===e||null===(a=e.value)||void 0===a?void 0:a.value)?e.value.value:(null===e||void 0===e?void 0:e.value)||0)-l}).each(t=>{t.data.value&&(t.AMOUNT_LASTYEAR=t.data.value.AMOUNT_LASTYEAR,t.GROWTH=t.data.value.GROWTH)}),n=U.values.reduce((t,e)=>{var n;return t+(void 0!==(null===(n=e.value)||void 0===n?void 0:n.value)?e.value.value:e.value||0)},0),l=[...f],s=l.indexOf(A);-1!==s&&(l[s]=n);const x=u.c(l),p=(y-2*a)*(t-2*a),g=(y-2*a)/(t-2*a),b=n/(x||1)*p;console.log("sumw",h,f,l,A,x,n);const j=x<=0?t-2*a:Math.sqrt(b/g),m=x<=0?y-2*a:b/j,O=(u.g().size([m,j]).padding(0)(e),u.e(M.current).select("g.chart")),w=(u.d().domain([0,u.c(e.leaves(),t=>t.value)]).range([0,y-2*a]),O.selectAll("g.treemap-piece").data(e.leaves(),t=>{var e;return null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.key})),T=w.enter().append("g").attr("class","treemap-piece").attr("id",t=>{var e;return"".concat(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.key.replaceAll(/[ ()]/g,""),"-").concat(h)}).style("mask",t=>{var e;return"url(#mask-".concat(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.key.replaceAll(/[ ()]/g,""),"-").concat(h,")")}).attr("data-tip",t=>{var e,n,a;const l=null===t||void 0===t?void 0:t.GROWTH,i=null===t||void 0===t?void 0:t.AMOUNT_LASTYEAR,o=null!=l?"".concat((100*l).toFixed(1),"%"):"N/A",r=null!=i?i.toLocaleString():"N/A";return"".concat(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.key,"<br>").concat(null===t||void 0===t||null===(n=t.value)||void 0===n||null===(a=n.toLocaleString)||void 0===a?void 0:a.call(n)," \u0e1a\u0e32\u0e17<br>\u0e1b\u0e35\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27: ").concat(r," \u0e1a\u0e32\u0e17<br>\u0e40\u0e15\u0e34\u0e1a\u0e42\u0e15: ").concat(o)}).attr("transform",t=>"translate(".concat(t.x0||0,",").concat(t.y0||0,")"));T.append("rect").attr("class","box").attr("rx",3).style("fill",t=>E(t)).attr("width",t=>t.x1-t.x0||0).attr("height",t=>t.y1-t.y0||0),T.append("mask").attr("id",t=>{var e;return"mask-".concat(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.key.replaceAll(/[ ()]/g,""),"-").concat(h)}).append("rect").attr("class","mask").attr("rx",3).style("fill","white").attr("width",t=>t.x1-t.x0||0).attr("height",t=>t.y1-t.y0||0),T.append("text").attr("class","text-name").attr("font-size","12px").attr("fill","white"),T.append("text").attr("class","text-value").attr("font-size","12px").attr("fill","white"),T.append("text").attr("class","text-growth").attr("font-size","12px").attr("fill","white");const S=T.merge(w);S.on("click",null).on("click",(t,e,n)=>{var a;const l=[...o,null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.key];if(l.length>c.length)return;const i=[...f],s=i.indexOf(A);-1!==s&&(i[s]=e.value);const d=u.c(i),h=e.value/(d||1)*p,x=Math.sqrt(h/g),v=h/x,b=e.x0,j=e.y0,m=v/(e.x1-e.x0),O=x/(e.y1-e.y0);console.log("prp",u.e(this),t,e,n),u.e(this).classed("selected",!0),S.transition().duration(300).attr("transform",t=>"translate(".concat((t.x0-b)*m,",").concat((t.y0-j)*O,")")),S.select("rect.box").transition().duration(300).attr("width",t=>Math.max(m*(t.x1-t.x0),0)).attr("height",t=>Math.max(O*(t.y1-t.y0),0)),S.select("rect.mask").transition().duration(300).attr("width",t=>Math.max(m*(t.x1-t.x0),0)).attr("height",t=>Math.max(O*(t.y1-t.y0),0)),setTimeout(()=>{r(l)},300)}).transition().duration(300).attr("transform",t=>"translate(".concat(t.x0,",").concat(t.y0,")")).attr("opacity",1).attr("data-tip",t=>{var e,n,a;const l=null===t||void 0===t?void 0:t.GROWTH,i=null===t||void 0===t?void 0:t.AMOUNT_LASTYEAR,o=null!=l?"".concat((100*l).toFixed(1),"%"):"N/A",r=null!=i?i.toLocaleString():"N/A";return"".concat(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.key,"<br>").concat(null===t||void 0===t||null===(n=t.value)||void 0===n||null===(a=n.toLocaleString)||void 0===a?void 0:a.call(n)," \u0e1a\u0e32\u0e17<br>\u0e1b\u0e35\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27: ").concat(r," \u0e1a\u0e32\u0e17<br>\u0e40\u0e15\u0e34\u0e1a\u0e42\u0e15: ").concat(o)}),S.select("rect.box").transition().duration(300).attr("rx",3).style("fill",t=>E(t)).attr("stroke","black").attr("stroke-width",i).attr("width",t=>Math.max(t.x1-t.x0||0,0)).attr("height",t=>Math.max(t.y1-t.y0||0,0)),S.select("rect.mask").transition().duration(300).attr("rx",3).style("fill","white").attr("width",t=>Math.max(t.x1-t.x0||0,0)).attr("height",t=>Math.max(t.y1-t.y0||0,0)),S.select("text.text-name").attr("x",5).attr("y",8).attr("dominant-baseline","hanging").text(t=>{var e;return null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.key}),S.select("text.text-value").attr("x",5).attr("y",24).attr("fill-opacity",.7).attr("dominant-baseline","hanging").attr("opacity",1).text(t=>"".concat(t.value.toLocaleString()," \u0e1a\u0e32\u0e17")),S.select("text.text-growth").attr("x",5).attr("y",40).attr("fill-opacity",.7).attr("dominant-baseline","hanging").attr("opacity",1).text(t=>{const e=null===t||void 0===t?void 0:t.GROWTH;return null!=e?"".concat(e>=0?"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e02\u0e36\u0e49\u0e19":"\u0e25\u0e14\u0e25\u0e07"," ").concat((100*e).toFixed(1),"%"):""}).attr("fill",t=>(null===t||void 0===t?void 0:t.GROWTH)>0?"#4f4":(null===t||void 0===t?void 0:t.GROWTH)<0?"#f44":"white"),w.exit().transition().delay(150).duration(600).attr("opacity",0).remove(),v.a.rebuild(),console.log("rebuilding tooltip"),console.log("too small",e.leaves().filter(t=>(t.x1-t.x0)*(t.y1-t.y0)<100)),console.log("too narrow",e.leaves().filter(t=>t.x1-t.x0<20)),console.log("too short",e.leaves().filter(t=>t.y1-t.y0<20))},[M,U,o,y,w,R,a,i,c,r,d,A,h,x,f,N,E]),Object(j.jsxs)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",overflowY:"auto"},children:[Object(j.jsxs)("div",{style:{paddingLeft:18,fontSize:12,marginBottom:4-a,zIndex:2},children:[Object(j.jsx)("b",{style:{whiteSpace:"nowrap"},children:"all"===o[o.length-1]?"\u0e23\u0e27\u0e21\u0e17\u0e38\u0e01\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e07\u0e32\u0e19":o[o.length-1]}),Object(j.jsx)("br",{}),Object(j.jsxs)("span",{style:{opacity:.7},children:[A.toLocaleString()," ","\u0e1a\u0e32\u0e17",null!=L&&Object(j.jsxs)("span",{style:{color:L>0?"#4f4":L<0?"#f44":"inherit",marginLeft:"8px"},children:["(",(100*L).toFixed(1),"%)"]})]})]}),n&&Object(j.jsx)(b,{style:{backgroundColor:"#000c",alignItems:"center",justifyContent:"center"},children:"Loading..."}),Object(j.jsx)("div",{style:{height:a,marginBottom:-a,background:"linear-gradient(#000f, #0000)",width:"100%",zIndex:1,pointerEvents:"none"}}),Object(j.jsx)("div",{style:{flexGrow:1,position:"relative"},children:Object(j.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",overflowY:"auto"},ref:m,children:Object(j.jsx)("svg",{ref:M,width:y,height:w,children:Object(j.jsx)("g",{transform:"translate(".concat(a,", ").concat(a,")"),className:"chart"})})})}),Object(j.jsx)("div",{style:{height:a,marginTop:-a,background:"linear-gradient(#0000, #000f)",width:"100%",zIndex:1,pointerEvents:"none"}})]})};const S=h.a.div(f||(f=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n  // background: #1a1a1a;\n  color: white;\n  font-size: 12px;\n  overflow-y: auto;\n"]))),R=h.a.h3(m||(m=Object(d.a)(["\n  margin: 0 0 12px 0;\n  font-size: 14px;\n  opacity: 0.8;\n  word-break: break-word;\n"]))),k=h.a.div(O||(O=Object(d.a)(["\n  display: flex;\n  align-items: flex-end;\n  gap: 4px;\n  height: 180px;\n  margin-bottom: 20px;\n"]))),N=h.a.div(y||(y=Object(d.a)(["\n  height: 140px;\n  width: 100%;\n  display: flex;\n  align-items: flex-end;\n"]))),E=h.a.div(w||(w=Object(d.a)(["\n  flex: 1;\n  background: linear-gradient(to top, #00ac00, #00ac00);\n  border-radius: 2px 2px 0 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 4px 0;\n  cursor: pointer;\n  transition: opacity 0.2s;\n\n  &:hover {\n    opacity: 0.8;\n  }\n"]))),U=h.a.div(T||(T=Object(d.a)(["\n  font-size: 10px;\n  margin-top: 4px;\n  text-align: center;\n"]))),L=h.a.div(M||(M=Object(d.a)(["\n  font-size: 9px;\n  opacity: 0.7;\n  color: white;\n"])));var _,I,C,Y,G,F=function(t){let{data:e,filters:n,hierarchyBy:a}=t;const i=Object(l.useMemo)(()=>n&&0!==n.length?1===n.length&&"all"===n[0]?"\u0e07\u0e1a\u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14":n[n.length-1]:"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e23\u0e32\u0e22\u0e1b\u0e35",[n]),o=Object(l.useMemo)(()=>{if(!e||0===e.length||!n||0===n.length)return[];let t=e;const l="all"===n[0]?n.slice(1):n;for(let e=0;e<l.length;e++){const n=a[e],i=l[e];t=t.filter(t=>t[n]===i)}const i={};return t.forEach(t=>{var e,n;const a=parseFloat((null===(e=t.AMOUNT_69)||void 0===e?void 0:e.replace(/,/g,""))||"0")||0;i[2026]||(i[2026]=0),i[2026]+=a;const l=parseFloat((null===(n=t.AMOUNT_68)||void 0===n?void 0:n.replace(/,/g,""))||"0")||0;i[2025]||(i[2025]=0),i[2025]+=l}),Object.entries(i).map(t=>{let[e,n]=t;return{year:e,amount:n}}).sort((t,e)=>parseInt(t.year,10)-parseInt(e.year,10))},[e,n,a]),r=Object(l.useMemo)(()=>u.c(o,t=>t.amount)||1,[o]);return 0===o.length?Object(j.jsxs)(S,{children:[Object(j.jsx)(R,{children:"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e23\u0e32\u0e22\u0e1b\u0e35"}),Object(j.jsx)("div",{style:{opacity:.5},children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"})]}):Object(j.jsxs)(S,{children:[Object(j.jsx)(R,{title:i,children:i.length>30?"".concat(i.substring(0,27),"..."):i}),Object(j.jsx)(k,{children:o.map(t=>Object(j.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(j.jsx)(N,{children:Object(j.jsx)(E,{style:{height:"".concat(t.amount/r*100,"%"),minHeight:"6px"},title:"".concat(t.year,": ").concat(t.amount.toLocaleString()),children:Object(j.jsx)(L,{children:t.amount>0?"".concat((t.amount/1e9).toFixed(1),"B"):"0"})})}),Object(j.jsx)(U,{children:t.year})]},t.year))}),Object(j.jsx)("div",{style:{fontSize:11,opacity:.6},children:o.map(t=>Object(j.jsxs)("div",{children:[t.year,": ",t.amount.toLocaleString()," ","\u0e1a\u0e32\u0e17"]},t.year))})]})};const z=h.a.div(_||(_=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n  // background: #1a1a1a;\n  color: white;\n  font-size: 11px;\n  overflow-y: auto;\n  flex-grow: 1;\n"]))),B=h.a.h3(I||(I=Object(d.a)(["\n  margin: 0 0 12px 0;\n  font-size: 14px;\n  opacity: 0.8;\n  word-break: break-word;\n"]))),P=h.a.div(C||(C=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 6px 0;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  align-items: center;\n\n  &:last-child {\n    border-bottom: none;\n  }\n"]))),W=h.a.span(Y||(Y=Object(d.a)(["\n  flex: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-right: 8px;\n"]))),H=h.a.span(G||(G=Object(d.a)(["\n  font-weight: bold;\n  white-space: nowrap;\n  color: ",";\n"])),t=>t.growth>.05?"#00ac00":t.growth>0?"#88dd88":t.growth>-.05?"#ff9999":"#cc0000");var D,V,J,q=function(t){let{data:e,filters:n,hierarchyBy:a}=t;const i=Object(l.useMemo)(()=>n&&0!==n.length?1===n.length&&"all"===n[0]?"% \u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e41\u0e1b\u0e25\u0e07\u0e23\u0e32\u0e22\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e07\u0e32\u0e19":"% \u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e41\u0e1b\u0e25\u0e07: ".concat(n[n.length-1]):"% \u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e41\u0e1b\u0e25\u0e07",[n]),o=Object(l.useMemo)(()=>{if(!e||0===e.length||!n||0===n.length)return[];const t="all"===n[0]?n.slice(1):n,l=Math.min(t.length,a.length-1),i=a[l];let o=e;for(let e=0;e<t.length;e++){const n=a[e],l=t[e];o=o.filter(t=>t[n]===l)}const r=new Map;o.forEach(t=>{var e,n;const a=t[i],l=parseFloat((null===(e=t.AMOUNT_69)||void 0===e?void 0:e.replace(/,/g,""))||"0")||0,o=parseFloat((null===(n=t.AMOUNT_68)||void 0===n?void 0:n.replace(/,/g,""))||"0")||0;r.has(a)||r.set(a,{amount69:0,amount68:0});const c=r.get(a);c.amount69+=l,c.amount68+=o});return Array.from(r.entries()).map(t=>{let[e,{amount69:n,amount68:a}]=t;return{name:e,growth:a>0?(n-a)/a:n>0?1:0,isNew:0===a,amount68:a,amount69:n,diff:n-a}}).sort((t,e)=>t.isNew&&!e.isNew?-1:!t.isNew&&e.isNew?1:e.growth-t.growth)},[e,n,a]);return 0===o.length?Object(j.jsxs)(z,{children:[Object(j.jsx)(B,{children:"% \u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e41\u0e1b\u0e25\u0e07"}),Object(j.jsx)("div",{style:{opacity:.5},children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"})]}):Object(j.jsxs)(z,{children:[Object(j.jsx)(B,{title:i,children:i.length>30?"".concat(i.substring(0,27),"..."):i}),Object(j.jsx)("div",{style:{maxHeight:"360px",overflowY:"auto"},children:o.map(t=>Object(j.jsxs)(P,{children:[Object(j.jsx)(W,{title:t.name,children:t.name.length>25?"".concat(t.name.substring(0,22),"..."):t.name}),Object(j.jsx)(H,{growth:t.growth,children:t.isNew?"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e43\u0e2b\u0e21\u0e48":"".concat((100*t.growth).toFixed(1),"%")})]},t.name))}),Object(j.jsx)("div",{style:{marginTop:12,fontSize:10,opacity:.5,fontStyle:"italic"},children:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38: % \u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e41\u0e1b\u0e25\u0e07\u0e08\u0e32\u0e01 2025 \u0e16\u0e36\u0e07 2026"})]})};const X=h.a.div(D||(D=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 280px;\n  border-left: 1px solid rgba(255, 255, 255, 0.1);\n  overflow: hidden;\n\n  @media screen and (orientation: portrait) {\n    display: none;\n  }\n"]))),$=h.a.img(V||(V=Object(d.a)(["\n  width: 100%;\n"]))),K=h.a.a(J||(J=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-decoration: none;\n  color: white;\n  text-align: center;\n  margin-left: 16px;\n  height: 32px;\n  opacity: 0.4;\n\n  &:hover {\n    opacity: 1;\n  }\n\n  small {\n    margin-bottom: 4px;\n    opacity: 0.4;\n  }\n\n  "," {\n    max-width: 64px;\n  }\n"])),$),Q=["MINISTRY","BUDGETARY_UNIT","BUDGET_PLAN","OUTPUT_PROJECT","ITEM"],Z={MINISTRY:"\u0e01\u0e23\u0e30\u0e17\u0e23\u0e27\u0e07\u0e2b\u0e23\u0e37\u0e2d\u0e40\u0e17\u0e35\u0e22\u0e1a\u0e40\u0e17\u0e48\u0e32",BUDGETARY_UNIT:"\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e23\u0e31\u0e1a\u0e07\u0e1a\u0e2f",BUDGET_PLAN:"\u0e41\u0e1c\u0e19\u0e07\u0e32\u0e19",OUTPUT_PROJECT:"\u0e1c\u0e25\u0e1c\u0e25\u0e34\u0e15/\u0e42\u0e04\u0e23\u0e07\u0e01\u0e32\u0e23",ITEM:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23"};var tt,et,nt,at,lt,it=function(t){let{data:e,isLoading:n,setCurrentSum:a=t=>{},fullValue:i=-1,index:o=0,isMultipleMaxSum:r=!1,sumWindows:c=[]}=t;const[s,d]=Object(l.useState)(""),[u,h]=Object(l.useState)(["all"]),v=Object(l.useCallback)((t,e)=>{const n=["MINISTRY","BUDGETARY_UNIT"];for(const a in n)if(t[n[a]].includes(e))return!0;return!1},[]),p=Object(l.useMemo)(()=>e.filter(t=>v(t,s)),[e,v,s]),g=Object(x.e)();return Object(x.d)(),Object(l.useEffect)(()=>{const t=g.pathname.split("/").slice(1);console.log("f",t,t.length>0&&t[0]?t:["all"]),h(t.length>0&&t[0]?t:["all"])},[g]),Object(j.jsxs)(b,{children:[Object(j.jsxs)("div",{style:{height:60,display:"flex",alignItems:"center",paddingLeft:16,paddingRight:16,marginBottom:8},children:[Object(j.jsx)("div",{style:{flexGrow:1,display:"flex",alignItems:"center",overflowX:"auto"},children:u.map((t,e)=>Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("button",{type:"button",onClick:()=>((t,e)=>{console.log(t,e);const n=[...u];n.splice(e+1),console.log("temp",n),h(n)})(t,e),style:{marginRight:8,backgroundColor:"transparent",border:"none",color:"white",padding:0,textAlign:"left"},children:[Object(j.jsx)("small",{style:{opacity:"0.4",whiteSpace:"nowrap"},children:e>0&&Z[Q[e-1]]}),e>0&&Object(j.jsx)("br",{}),Object(j.jsx)("span",{style:{textDecoration:e<u.length-1?"underline":"none",whiteSpace:"nowrap"},children:0===e?""===s?"\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e07\u0e32\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14":'\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e07\u0e32\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14\u0e17\u0e35\u0e48\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e35\u0e04\u0e33\u0e27\u0e48\u0e32 "'.concat(s,'"'):t.length<20?t:"".concat(t.substr(0,20),"...")})]}),e===u.length-1&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("small",{style:{color:"white",marginRight:8,opacity:"0.4"},children:":"}),Object(j.jsxs)("small",{style:{color:"white",marginRight:8,opacity:"0.4"},children:["\u0e41\u0e1a\u0e48\u0e07\u0e15\u0e32\u0e21"," ",Z[Q[e]]]})]}),e<u.length-1&&Object(j.jsx)("span",{style:{color:"white",marginRight:8},children:">"})]}))}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{style:{fontSize:12,opacity:.7},children:"Filter"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",value:s,onChange:t=>d(t.target.value),placeholder:"\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e23\u0e31\u0e1a\u0e07\u0e1a\u0e2b\u0e23\u0e37\u0e2d\u0e01\u0e23\u0e30\u0e17\u0e23\u0e27\u0e07"})]}),Object(j.jsx)(K,{target:"_blank",href:"https://taepras.com",children:Object(j.jsx)($,{src:"".concat("/thaibudget65","/tp_logo_dark.svg"),alt:"Thanawit Prasongpongchai taepras.com",title:"Thanawit Prasongpongchai"})})]}),Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexGrow:1},children:[Object(j.jsx)("div",{style:{position:"relative",flexGrow:1},children:Object(j.jsx)(A,{data:p,isLoading:n,filters:u,hierarchyBy:Q,setFilters:h,setCurrentSum:t=>{a(t)},fullValue:i,index:o,isMultipleMaxSum:r,sumWindows:c})}),Object(j.jsxs)(X,{children:[Object(j.jsx)(F,{data:p,filters:u,hierarchyBy:Q}),Object(j.jsx)(q,{data:p,filters:u,hierarchyBy:Q})]})]})]})};const ot=h.a.div(tt||(tt=Object(d.a)(["\n display: flex;\n flex-direction: row;\n flex-grow: 1;\n\n  @media screen and (orientation:portrait) {\n    flex-direction: column;\n  }\n"]))),rt=h.a.img(et||(et=Object(d.a)(["\n  width: 100%;\n"]))),ct=h.a.a(nt||(nt=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-decoration: none;\n  color: white;\n  text-align: center;\n\n  &:hover {\n    opacity: 0.7;\n  }\n\n  small {\n    margin-bottom: 4px;\n    opacity: 0.4;\n  }\n\n  "," {\n    max-width: 64px;\n  }\n"])),rt);h.a.div(at||(at=Object(d.a)(["\n  position: relative;\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  \n  @media screen and (orientation:landscape) {\n    width: 80px;\n    &>*:not(:last-child) {\n      margin-bottom: 16px;\n    }\n  }\n\n  @media screen and (orientation:portrait) {\n    height: 64px;\n    flex-direction: row;\n    /* display: none !important; */\n\n    &>*:not(:last-child) {\n      margin-right: 16px;\n    }\n\n    "," "," {\n      max-width: 48px;\n    }\n  }\n"])),ct,rt),h.a.button(lt||(lt=Object(d.a)(["\n  padding: 8px;\n  background-color: #181818;\n  border: none;\n  color: #888;\n  border-radius: 8px;\n  display: inline-flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"])));var st=function(){const[t,e]=Object(l.useState)([]),[n,a]=Object(l.useState)(!0),[i,o]=Object(l.useState)(!1),[r,c]=Object(l.useState)(["all"]),[d,h]=Object(l.useState)([0,0]);Object(l.useEffect)(()=>{u.a("".concat("/thaibudget65","/data-69-with-68.csv")).then(t=>{e(t),a(!1)})},[]);const p=(t,e)=>{const n=[...d];n[t]=e,h(n)},g=Object(l.useMemo)(()=>u.c(d),[d]),f=Object(l.useMemo)(()=>{const t=u.c(d);return d.filter(e=>t===e).length>1},[d]),m=Object(l.useMemo)(()=>t.map(t=>{const e=parseFloat(t.AMOUNT_69.replace(/,/g,""))||0,n=parseFloat(t.AMOUNT_68.replace(/,/g,""))||0;return Object(s.a)(Object(s.a)({},t),{},{AMOUNT:e,AMOUNT_LASTYEAR:n,DIFF:e-n,GROWTH:n>0?(e-n)/n:1/0,OUTPUT_PROJECT:t.OUTPUT||t.PROJECT?t.OUTPUT+t.PROJECT:"\u0e44\u0e21\u0e48\u0e23\u0e30\u0e1a\u0e38\u0e42\u0e04\u0e23\u0e07\u0e01\u0e32\u0e23/\u0e1c\u0e25\u0e1c\u0e25\u0e34\u0e15",MINISTRY:t.MINISTRY.replace(/\([0-9]+\)$/,"").trim(),ITEM:[t.ITEM_DESCRIPTION,t.CATEGORY_LV2,t.CATEGORY_LV3,t.CATEGORY_LV4,t.CATEGORY_LV5,t.CATEGORY_LV6].filter(t=>t).join(" - ")})}),[t]),O=Object(x.e)();return Object(x.d)(),Object(l.useEffect)(()=>{const t=O.pathname.split("/").slice(1);console.log("f",t,t.length>0&&t[0]?t:["all"]),c(t.length>0&&t[0]?t:["all"])},[O]),Object(j.jsxs)(b,{children:[Object(j.jsxs)(ot,{children:[Object(j.jsx)("div",{style:{position:"relative",flexGrow:1},children:Object(j.jsx)(it,{data:m,isLoading:n,fullValue:g,setCurrentSum:t=>{console.log("setCurrentSum 0",t),p(0,t)},isMultipleMaxSum:f,sumWindows:d,index:0})}),i&&Object(j.jsx)("div",{style:{position:"relative",flexGrow:1},children:Object(j.jsx)(it,{data:m,isLoading:n,fullValue:g,setCurrentSum:t=>{console.log("setCurrentSum 1",t),p(1,t)},isMultipleMaxSum:f,sumWindows:d,index:1})})]}),Object(j.jsx)(v.a,{multiline:!0})]})};var dt=t=>{t&&t instanceof Function&&n.e(3).then(n.bind(null,154)).then(e=>{let{getCLS:n,getFID:a,getFCP:l,getLCP:i,getTTFB:o}=e;n(t),a(t),l(t),i(t),o(t)})};r.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(c.a,{children:Object(j.jsx)(st,{})})}),document.getElementById("root")),dt()}},[[151,1,2]]]);
//# sourceMappingURL=main.7db3a038.chunk.js.map